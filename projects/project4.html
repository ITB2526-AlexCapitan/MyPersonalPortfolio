<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="../files/logo.svg">">
    <title>Smart Home Hub</title>
    <style>
        /* --- VARIABLES GLOBALES (Id√©nticas) --- */
        :root {
            --bg-color: #000000;
            --text-primary: #f5f5f7;
            --text-secondary: #86868b;
            --accent: #2997ff;
            --card-bg: rgba(22, 22, 23, 0.8);
            --border-color: rgba(255, 255, 255, 0.1);
            
            /* Colores espec√≠ficos de Home Assistant */
            --ha-amber: #ffc107; /* Luces */
            --ha-blue: #448aff;  /* Clima */
            --ha-red: #f44336;   /* Seguridad */
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; }

        body { background-color: var(--bg-color); color: var(--text-primary); overflow-x: hidden; line-height: 1.6; }

        /* --- Navigation --- */
        nav { position: fixed; top: 0; width: 100%; padding: 20px 0; background: rgba(0, 0, 0, 0.8); backdrop-filter: blur(20px); z-index: 1000; border-bottom: 1px solid var(--border-color); }
        .nav-container { max-width: 980px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; padding: 0 20px; }
        .logo { font-weight: 600; font-size: 1.2rem; letter-spacing: -0.5px; color: var(--text-primary); text-decoration: none; transition: opacity 0.3s ease; }
        .logo:hover { opacity: 0.8; }
        .back-link { color: var(--accent); text-decoration: none; font-size: 0.9rem; display: flex; align-items: center; gap: 5px; transition: opacity 0.3s ease; }
        .back-link:hover { opacity: 0.8; }

        /* --- Layout --- */
        main { padding-top: 140px; padding-bottom: 100px; width: 100%; }
        article { max-width: 720px; margin: 0 auto; padding: 0 20px; }

        /* --- HERO (EST√ÅNDAR) --- */
        .project-hero { margin-bottom: 80px; text-align: center; opacity: 0; animation: fadeIn 1s ease forwards; }
        .kicker { color: var(--accent); text-transform: uppercase; letter-spacing: 2px; font-size: 0.75rem; font-weight: 600; margin-bottom: 15px; display: block; }
        h1 { font-size: 3rem; font-weight: 700; letter-spacing: -1.5px; line-height: 1.1; margin-bottom: 20px; background: linear-gradient(180deg, #fff, #888); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .hero-summary { font-size: 1.25rem; color: var(--text-secondary); font-weight: 400; line-height: 1.5; margin-bottom: 30px; }
        .metadata { display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; }
        .meta-tag { font-size: 0.8rem; padding: 6px 14px; background: rgba(255, 255, 255, 0.1); border-radius: 20px; color: var(--text-primary); border: 1px solid var(--border-color); }

        /* --- CONTENT (Project 4 Specifics) --- */
        .content-block { opacity: 0; animation: slideUp 0.8s ease forwards 0.3s; }
        h2 { font-size: 1.8rem; margin-top: 60px; margin-bottom: 25px; color: var(--text-primary); letter-spacing: -0.5px; }
        p { color: var(--text-secondary); margin-bottom: 24px; font-size: 1.05rem; }

        /* Variaci√≥n 1: HA Dashboard Grid */
        .ha-dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 15px;
            margin: 40px 0;
            background: rgba(255, 255, 255, 0.02);
            padding: 20px;
            border-radius: 24px;
            border: 1px solid var(--border-color);
        }

        .ha-tile {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            aspect-ratio: 1/1;
            transition: transform 0.2s ease;
        }
        
        .ha-tile:hover { transform: scale(1.02); background: rgba(255, 255, 255, 0.08); }

        .ha-icon { font-size: 1.5rem; margin-bottom: 10px; display: inline-block; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; background: rgba(255,255,255,0.1); }
        .ha-tile.active .ha-icon.light { background: var(--ha-amber); color: #000; box-shadow: 0 0 15px rgba(255, 193, 7, 0.4); }
        .ha-tile.active .ha-icon.temp { background: var(--ha-blue); color: #fff; }
        .ha-tile.active .ha-icon.sec { background: var(--ha-red); color: #fff; }

        .ha-label { font-size: 0.9rem; font-weight: 600; color: var(--text-primary); }
        .ha-state { font-size: 0.8rem; color: var(--text-secondary); }

        /* Variaci√≥n 2: Hardware Stack Row */
        .hw-stack {
            display: flex;
            align-items: center;
            gap: 20px;
            margin: 30px 0;
            padding: 20px;
            border-left: 2px solid var(--accent);
            background: linear-gradient(90deg, rgba(41, 151, 255, 0.05) 0%, transparent 100%);
        }
        .hw-title { font-weight: 600; color: var(--text-primary); min-width: 120px; }
        .hw-desc { font-size: 0.95rem; color: var(--text-secondary); margin: 0; }

        /* Variaci√≥n 3: Automation Logic Flow */
        .flow-container {
            margin: 40px 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        .flow-node {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            padding: 15px 25px;
            border-radius: 50px;
            font-size: 0.9rem;
            color: var(--text-primary);
            position: relative;
            width: 100%;
            max-width: 400px;
            text-align: center;
        }

        .flow-node::after {
            content: '‚Üì';
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            color: var(--text-secondary);
            font-size: 1.2rem;
        }
        .flow-node:last-child::after { content: none; }

        .trigger { border-color: var(--ha-blue); color: var(--ha-blue); }
        .condition { border-color: var(--ha-amber); color: var(--ha-amber); }
        .action { border-color: var(--ha-success); color: var(--text-primary); background: rgba(255,255,255,0.1); }

        /* Footer */
        footer { text-align: center; padding: 60px 0; border-top: 1px solid var(--border-color); color: var(--text-secondary); font-size: 0.8rem; margin-top: 80px; }

        /* Animations */
        @keyframes fadeIn { to { opacity: 1; } }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 768px) { h1 { font-size: 2.2rem; } .hw-stack { flex-direction: column; align-items: flex-start; gap: 10px; } }
    </style>
</head>
<body>

    <nav>
        <div class="nav-container">
            <a href="../index.html" class="logo">Alex Capit√°n</a>
            <a href="../projects.html" class="back-link">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
                Projects
            </a>
        </div>
    </nav>

    <main>
        <article>
            <!-- HERO -->
            <header class="project-hero">
                <span class="kicker">IoT & Automation</span>
                <h1>Self-hosted Smart Home Hub</h1>
                <p class="hero-summary">
                    Implementation of a local, privacy-first smart home ecosystem using Home Assistant. Integrating Zigbee, WiFi, and Matter devices into a single unified brain.
                </p>
                <div class="metadata">
                    <span class="meta-tag">Home Assistant</span>
                    <span class="meta-tag">Raspberry Pi</span>
                    <span class="meta-tag">Automation</span>
                </div>
            </header>

            <div class="content-block">
                
                <!-- Section 1: Philosophy -->
                <section>
                    <h2>The Problem: Cloud Fatigue</h2>
                    <p>Modern smart homes are often fragmented across multiple proprietary apps (Tuya, Xiaomi, Google Home), creating latency and privacy concerns. Relying on the cloud means that if the internet goes down, the house stops working.</p>
                    <p>The goal was to build a <strong>100% local control system</strong> that bridges disparate protocols and operates independently of external servers.</p>
                </section>

                <!-- Section 2: Hardware Stack (New Visual) -->
                <section>
                    <h2>The Hardware Core</h2>
                    <p>The system runs on low-power hardware to ensure 24/7 availability with minimal energy footprint.</p>
                    
                    <div class="hw-stack">
                        <span class="hw-title">Compute</span>
                        <p class="hw-desc">Raspberry Pi 4 (4GB RAM) running Home Assistant OS via Docker.</p>
                    </div>
                    <div class="hw-stack">
                        <span class="hw-title">Connectivity</span>
                        <p class="hw-desc">Sonoff Zigbee 3.0 USB Dongle Plus (ZBDongle-E) for local mesh networking.</p>
                    </div>
                    <div class="hw-stack">
                        <span class="hw-title">Storage</span>
                        <p class="hw-desc">Argon M.2 Case with 256GB SSD to prevent SD card corruption (a common Pi failure point).</p>
                    </div>
                </section>

                <!-- Section 3: The Unified Dashboard (New Visual) -->
                <section>
                    <h2>Unified Dashboard</h2>
                    <p>By using Home Assistant, I created a responsive "Lovelace" dashboard that serves as the central control panel for the entire house, accessible via mobile or tablet mounted on the wall.</p>
                    
                    <div class="ha-dashboard">
                        <!-- Tile 1: Light (Active) -->
                        <div class="ha-tile active">
                            <div class="ha-icon light">üí°</div>
                            <div>
                                <div class="ha-label">Living Room</div>
                                <div class="ha-state">On ‚Ä¢ 80%</div>
                            </div>
                        </div>
                        <!-- Tile 2: Climate (Active) -->
                        <div class="ha-tile active">
                            <div class="ha-icon temp">‚ùÑÔ∏è</div>
                            <div>
                                <div class="ha-label">AC Unit</div>
                                <div class="ha-state">Cooling ‚Ä¢ 21¬∞C</div>
                            </div>
                        </div>
                        <!-- Tile 3: Security -->
                        <div class="ha-tile active">
                            <div class="ha-icon sec">üîí</div>
                            <div>
                                <div class="ha-label">Front Door</div>
                                <div class="ha-state">Locked</div>
                            </div>
                        </div>
                        <!-- Tile 4: Energy -->
                        <div class="ha-tile">
                            <div class="ha-icon">‚ö°</div>
                            <div>
                                <div class="ha-label">Power Usage</div>
                                <div class="ha-state">450 W</div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Section 4: Automation Logic (New Visual) -->
                <section>
                    <h2>Automation Logic</h2>
                    <p>The real power lies in automation. Complex scenes combine lighting, climate, and media states. Below is the logic flow for the "Cinema Mode" routine.</p>
                    
                    <div class="flow-container">
                        <div class="flow-node trigger">
                            <strong>Trigger:</strong> NFC Tag scanned on Coffee Table
                        </div>
                        <div class="flow-node condition">
                            <strong>Condition:</strong> Sun is below horizon OR Time > 20:00
                        </div>
                        <div class="flow-node action">
                            <strong>Action:</strong> Dim Lights to 20%, Close Blinds, Turn on Apple TV
                        </div>
                    </div>
                </section>

                <section>
                    <h2>Conclusion</h2>
                    <p>This project successfully centralized over 30 separate IoT devices into a single, cohesive system. It eliminated app switching, reduced latency to milliseconds, and most importantly, ensured that my data stays within my four walls.</p>
                </section>

            </div>
        </article>
    </main>

    <footer>
        <p>&copy; 2026 Alex Capit√°n. Designed with love.</p>
    </footer>

    <script>
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = 1;
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.ha-dashboard, .hw-stack, .flow-container, h2').forEach(el => {
            el.style.opacity = 0;
            el.style.transform = 'translateY(20px)';
            el.style.transition = 'all 0.8s ease';
            observer.observe(el);
        });
    </script>
</body>
</html>